{"version":3,"file":"8.6ca44d40.js","sources":["../../../../../../src/routes/auth/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { goto } from '$app/navigation';\n\timport { auth } from '$lib/stores/auth';\n\timport { onMount } from 'svelte';\n\t\n\tlet displayName = '';\n\tlet isCreating = false;\n\tlet error = '';\n\t\n\tonMount(async () => {\n\t\t// Check if already authenticated\n\t\tconst unsubscribe = auth.subscribe(state => {\n\t\t\tif (state.isAuthenticated) {\n\t\t\t\tgoto('/app');\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn unsubscribe;\n\t});\n\t\n\tasync function handleCreateIdentity() {\n\t\tif (!displayName.trim()) {\n\t\t\terror = 'Please enter a display name';\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tisCreating = true;\n\t\terror = '';\n\t\t\n\t\ttry {\n\t\t\tawait auth.createIdentity(displayName);\n\t\t\t// Navigation handled by subscription\n\t\t} catch (err) {\n\t\t\terror = err instanceof Error ? err.message : 'Failed to create identity';\n\t\t\tisCreating = false;\n\t\t}\n\t}\n</script>\n\n<svelte:head>\n\t<title>Create Identity - Volli</title>\n</svelte:head>\n\n<main class=\"auth-container\">\n\t<div class=\"auth-card\">\n\t\t<div class=\"logo\">\n\t\t\t<h1>üîê Volli</h1>\n\t\t\t<p>Post-quantum secure messaging</p>\n\t\t</div>\n\t\t\n\t\t<form on:submit|preventDefault={handleCreateIdentity}>\n\t\t\t<h2>Create Your Identity</h2>\n\t\t\t<p class=\"description\">\n\t\t\t\tYour identity is stored locally and encrypted with post-quantum cryptography.\n\t\t\t\tNo personal data is ever sent to any server.\n\t\t\t</p>\n\t\t\t\n\t\t\t<div class=\"form-group\">\n\t\t\t\t<label for=\"displayName\">Display Name</label>\n\t\t\t\t<input\n\t\t\t\t\tid=\"displayName\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tbind:value={displayName}\n\t\t\t\t\tplaceholder=\"Enter your name\"\n\t\t\t\t\tdisabled={isCreating}\n\t\t\t\t\trequired\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t\n\t\t\t{#if error}\n\t\t\t\t<div class=\"error\">{error}</div>\n\t\t\t{/if}\n\t\t\t\n\t\t\t<button type=\"submit\" disabled={isCreating}>\n\t\t\t\t{isCreating ? 'Creating...' : 'Create Identity'}\n\t\t\t</button>\n\t\t\t\n\t\t\t<div class=\"security-note\">\n\t\t\t\t<p>üîí Your keys are generated locally</p>\n\t\t\t\t<p>üåê Works 100% offline</p>\n\t\t\t\t<p>üö´ No tracking or analytics</p>\n\t\t\t</div>\n\t\t</form>\n\t</div>\n</main>\n\n<style>\n\t.auth-container {\n\t\tmin-height: 100vh;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tpadding: 2rem;\n\t\tbackground: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);\n\t}\n\t\n\t.auth-card {\n\t\twidth: 100%;\n\t\tmax-width: 450px;\n\t\tbackground: rgba(255, 255, 255, 0.05);\n\t\tborder: 1px solid rgba(255, 255, 255, 0.1);\n\t\tborder-radius: 16px;\n\t\tpadding: 3rem;\n\t\tbackdrop-filter: blur(10px);\n\t}\n\t\n\t.logo {\n\t\ttext-align: center;\n\t\tmargin-bottom: 3rem;\n\t}\n\t\n\t.logo h1 {\n\t\tfont-size: 3rem;\n\t\tmargin: 0;\n\t\tbackground: linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%);\n\t\t-webkit-background-clip: text;\n\t\t-webkit-text-fill-color: transparent;\n\t\tbackground-clip: text;\n\t}\n\t\n\t.logo p {\n\t\tcolor: #888;\n\t\tmargin-top: 0.5rem;\n\t}\n\t\n\th2 {\n\t\tmargin: 0 0 1rem;\n\t\tfont-size: 1.5rem;\n\t\tcolor: #fff;\n\t}\n\t\n\t.description {\n\t\tcolor: #aaa;\n\t\tline-height: 1.6;\n\t\tmargin-bottom: 2rem;\n\t\tfont-size: 0.95rem;\n\t}\n\t\n\t.form-group {\n\t\tmargin-bottom: 1.5rem;\n\t}\n\t\n\tlabel {\n\t\tdisplay: block;\n\t\tmargin-bottom: 0.5rem;\n\t\tcolor: #ccc;\n\t\tfont-weight: 500;\n\t}\n\t\n\tinput {\n\t\twidth: 100%;\n\t\tpadding: 0.75rem 1rem;\n\t\tbackground: rgba(255, 255, 255, 0.05);\n\t\tborder: 1px solid rgba(255, 255, 255, 0.1);\n\t\tborder-radius: 8px;\n\t\tcolor: #fff;\n\t\tfont-size: 1rem;\n\t\ttransition: all 0.3s ease;\n\t}\n\t\n\tinput:focus {\n\t\toutline: none;\n\t\tborder-color: #3B82F6;\n\t\tbackground: rgba(255, 255, 255, 0.08);\n\t}\n\t\n\tinput:disabled {\n\t\topacity: 0.5;\n\t\tcursor: not-allowed;\n\t}\n\t\n\tbutton {\n\t\twidth: 100%;\n\t\tpadding: 1rem;\n\t\tbackground: #3B82F6;\n\t\tcolor: white;\n\t\tborder: none;\n\t\tborder-radius: 8px;\n\t\tfont-size: 1.1rem;\n\t\tfont-weight: 600;\n\t\tcursor: pointer;\n\t\ttransition: all 0.3s ease;\n\t}\n\t\n\tbutton:hover:not(:disabled) {\n\t\tbackground: #2563EB;\n\t\ttransform: translateY(-1px);\n\t}\n\t\n\tbutton:disabled {\n\t\topacity: 0.7;\n\t\tcursor: not-allowed;\n\t}\n\t\n\t.error {\n\t\tbackground: rgba(239, 68, 68, 0.1);\n\t\tborder: 1px solid rgba(239, 68, 68, 0.3);\n\t\tcolor: #EF4444;\n\t\tpadding: 0.75rem;\n\t\tborder-radius: 8px;\n\t\tmargin-bottom: 1rem;\n\t\tfont-size: 0.9rem;\n\t}\n\t\n\t.security-note {\n\t\tmargin-top: 2rem;\n\t\tpadding-top: 2rem;\n\t\tborder-top: 1px solid rgba(255, 255, 255, 0.1);\n\t\ttext-align: center;\n\t}\n\t\n\t.security-note p {\n\t\tcolor: #888;\n\t\tfont-size: 0.9rem;\n\t\tmargin: 0.5rem 0;\n\t}\n</style>"],"names":["ctx","insert_hydration","target","div","anchor","create_if_block","main","append_hydration","div3","div0","form","h2","p1","div1","label","input","button","div2","set_data","t13","t13_value","displayName","isCreating","error","onMount","auth","state","goto","handleCreateIdentity","$$invalidate","err"],"mappings":"oZAsEwBA,EAAK,CAAA,CAAA,0DAALA,EAAK,CAAA,CAAA,yEAAzBC,EAA+BC,EAAAC,EAAAC,CAAA,2BAAXJ,EAAK,CAAA,CAAA;qFAIxBA,EAAU,CAAA,EAAG,cAAgB,iNAL1BA,EAAK,CAAA,GAAAK,EAAAL,CAAA,86CALEA,EAAU,CAAA,uHASUA,EAAU,CAAA,kLA9B7CC,EAyCMC,EAAAI,EAAAF,CAAA,EAxCLG,EAuCKD,EAAAE,CAAA,EAtCJD,EAGKC,EAAAC,CAAA,SAELF,EAgCMC,EAAAE,CAAA,EA/BLH,EAA4BG,EAAAC,CAAA,SAC5BJ,EAGGG,EAAAE,CAAA,SAEHL,EAUKG,EAAAG,CAAA,EATJN,EAA4CM,EAAAC,CAAA,SAC5CP,EAOCM,EAAAE,CAAA,MAJYf,EAAW,CAAA,CAAA,+BAWzBO,EAEQG,EAAAM,CAAA,gBAERT,EAIKG,EAAAO,CAAA,2CA/B0BjB,EAAoB,CAAA,CAAA,CAAA,oCAcvCA,EAAU,CAAA,kBAFRA,EAAW,CAAA,OAAXA,EAAW,CAAA,CAAA,EAOpBA,EAAK,CAAA,oEAKRA,EAAU,CAAA,EAAG,cAAgB,oBAAiBkB,GAAAC,EAAAC,CAAA,mBADhBpB,EAAU,CAAA,yEApExC,IAAAqB,EAAc,GACdC,EAAa,GACbC,EAAQ,GAEZC,GAAO,SAEcC,EAAK,UAAUC,GAAK,CACnCA,EAAM,iBACTC,GAAK,MAAM,oBAOCC,GAAoB,CAC7B,GAAA,CAAAP,EAAY,OAAI,CACpBQ,EAAA,EAAAN,EAAQ,6BAA6B,SAItCM,EAAA,EAAAP,EAAa,EAAI,EACjBO,EAAA,EAAAN,EAAQ,EAAE,YAGHE,EAAK,eAAeJ,CAAW,QAE7BS,EAAG,KACXP,EAAQO,aAAe,MAAQA,EAAI,QAAU,6BAC7CD,EAAA,EAAAP,EAAa,EAAK,gBA4BJD,EAAW,KAAA"}