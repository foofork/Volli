import{s as te,n as G,r as se,o as ae}from"../chunks/scheduler.f21026e3.js";import{S as le,i as ne,s as C,g as p,m as Z,B as re,f as h,c as b,h as f,j as E,y as D,n as $,k as i,a as w,x as a,C as J,A as K,D as ie,o as ee}from"../chunks/index.887ba7b1.js";import{g as oe}from"../chunks/navigation.40a9cf0e.js";import{a as Q}from"../chunks/auth.1e7963e3.js";function X(u){let o,t;return{c(){o=p("div"),t=Z(u[2]),this.h()},l(e){o=f(e,"DIV",{class:!0});var l=E(o);t=$(l,u[2]),l.forEach(h),this.h()},h(){i(o,"class","error svelte-1td0xzd")},m(e,l){w(e,o,l),a(o,t)},p(e,l){l&4&&ee(t,e[2])},d(e){e&&h(o)}}}function de(u){let o,t,e,l,x='<h1 class="svelte-1td0xzd">🔐 Volli</h1> <p class="svelte-1td0xzd">Post-quantum secure messaging</p>',N,s,v,M="Create Your Identity",H,z,F=`Your identity is stored locally and encrypted with post-quantum cryptography.
				No personal data is ever sent to any server.`,P,y,g,O="Display Name",A,d,j,T,m,k=u[1]?"Creating...":"Create Identity",V,B,I,S='<p class="svelte-1td0xzd">🔒 Your keys are generated locally</p> <p class="svelte-1td0xzd">🌐 Works 100% offline</p> <p class="svelte-1td0xzd">🚫 No tracking or analytics</p>',Y,U,n=u[2]&&X(u);return{c(){o=C(),t=p("main"),e=p("div"),l=p("div"),l.innerHTML=x,N=C(),s=p("form"),v=p("h2"),v.textContent=M,H=C(),z=p("p"),z.textContent=F,P=C(),y=p("div"),g=p("label"),g.textContent=O,A=C(),d=p("input"),j=C(),n&&n.c(),T=C(),m=p("button"),V=Z(k),B=C(),I=p("div"),I.innerHTML=S,this.h()},l(r){re("svelte-1tglppd",document.head).forEach(h),o=b(r),t=f(r,"MAIN",{class:!0});var R=E(t);e=f(R,"DIV",{class:!0});var L=E(e);l=f(L,"DIV",{class:!0,"data-svelte-h":!0}),D(l)!=="svelte-6ynk5k"&&(l.innerHTML=x),N=b(L),s=f(L,"FORM",{});var c=E(s);v=f(c,"H2",{class:!0,"data-svelte-h":!0}),D(v)!=="svelte-1r2zgot"&&(v.textContent=M),H=b(c),z=f(c,"P",{class:!0,"data-svelte-h":!0}),D(z)!=="svelte-1jc1g3s"&&(z.textContent=F),P=b(c),y=f(c,"DIV",{class:!0});var q=E(y);g=f(q,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),D(g)!=="svelte-e4li4q"&&(g.textContent=O),A=b(q),d=f(q,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),q.forEach(h),j=b(c),n&&n.l(c),T=b(c),m=f(c,"BUTTON",{type:!0,class:!0});var W=E(m);V=$(W,k),W.forEach(h),B=b(c),I=f(c,"DIV",{class:!0,"data-svelte-h":!0}),D(I)!=="svelte-1jgpasz"&&(I.innerHTML=S),c.forEach(h),L.forEach(h),R.forEach(h),this.h()},h(){document.title="Create Identity - Volli",i(l,"class","logo svelte-1td0xzd"),i(v,"class","svelte-1td0xzd"),i(z,"class","description svelte-1td0xzd"),i(g,"for","displayName"),i(g,"class","svelte-1td0xzd"),i(d,"id","displayName"),i(d,"type","text"),i(d,"placeholder","Enter your name"),d.disabled=u[1],d.required=!0,i(d,"class","svelte-1td0xzd"),i(y,"class","form-group svelte-1td0xzd"),i(m,"type","submit"),m.disabled=u[1],i(m,"class","svelte-1td0xzd"),i(I,"class","security-note svelte-1td0xzd"),i(e,"class","auth-card svelte-1td0xzd"),i(t,"class","auth-container svelte-1td0xzd")},m(r,_){w(r,o,_),w(r,t,_),a(t,e),a(e,l),a(e,N),a(e,s),a(s,v),a(s,H),a(s,z),a(s,P),a(s,y),a(y,g),a(y,A),a(y,d),J(d,u[0]),a(s,j),n&&n.m(s,null),a(s,T),a(s,m),a(m,V),a(s,B),a(s,I),Y||(U=[K(d,"input",u[4]),K(s,"submit",ie(u[3]))],Y=!0)},p(r,[_]){_&2&&(d.disabled=r[1]),_&1&&d.value!==r[0]&&J(d,r[0]),r[2]?n?n.p(r,_):(n=X(r),n.c(),n.m(s,T)):n&&(n.d(1),n=null),_&2&&k!==(k=r[1]?"Creating...":"Create Identity")&&ee(V,k),_&2&&(m.disabled=r[1])},i:G,o:G,d(r){r&&(h(o),h(t)),n&&n.d(),Y=!1,se(U)}}}function ue(u,o,t){let e="",l=!1,x="";ae(async()=>Q.subscribe(M=>{M.isAuthenticated&&oe("/app")}));async function N(){if(!e.trim()){t(2,x="Please enter a display name");return}t(1,l=!0),t(2,x="");try{await Q.createIdentity(e)}catch(v){t(2,x=v instanceof Error?v.message:"Failed to create identity"),t(1,l=!1)}}function s(){e=this.value,t(0,e)}return[e,l,x,N,s]}class he extends le{constructor(o){super(),ne(this,o,ue,de,te,{})}}export{he as component};
//# sourceMappingURL=8.6ca44d40.js.map
