import{s as pe,e as ve,o as _e,n as X,c as he,u as me,g as xe,d as je}from"../chunks/scheduler.f21026e3.js";import{S as be,i as ge,e as de,a as te,t as $,b as ke,d as ee,f as h,p as Me,g as o,h as c,y as g,k as n,s as j,m as ye,j as T,c as b,n as Ce,z as Le,x as s,A as we,o as He}from"../chunks/index.887ba7b1.js";import{g as fe}from"../chunks/navigation.40a9cf0e.js";import{a as Y,i as Te}from"../chunks/auth.1e7963e3.js";import{v as Z}from"../chunks/vault.4a87f3ed.js";import{m as Ie}from"../chunks/messages.8ac05859.js";function Ve(d){let e,t='<div class="spinner svelte-1jxaca9"></div> <p class="svelte-1jxaca9">Initializing secure environment...</p>';return{c(){e=o("div"),e.innerHTML=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),g(e)!=="svelte-18o78ex"&&(e.innerHTML=t),this.h()},h(){n(e,"class","loading svelte-1jxaca9")},m(l,_){te(l,e,_)},p:X,i:X,o:X,d(l){l&&h(e)}}}function De(d){let e,t,l,_='<h1 class="svelte-1jxaca9">🔐 Volli</h1> <button class="icon-button svelte-1jxaca9" title="New conversation"><svg width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M10 4v12M4 10h12" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg></button>',k,a,v,i='<span class="icon svelte-1jxaca9">💬</span> <span class="svelte-1jxaca9">Messages</span>',r,f,se='<span class="icon svelte-1jxaca9">👥</span> <span class="svelte-1jxaca9">Contacts</span>',F,M,ae='<span class="icon svelte-1jxaca9">📁</span> <span class="svelte-1jxaca9">Files</span>',O,y,le='<span class="icon svelte-1jxaca9">⚙️</span> <span class="svelte-1jxaca9">Settings</span>',R,C,L,I,ne="👤",G,w,A,N=d[1].identity?.id.slice(0,8)+"",S,J,V,ie="🟢 Secure",K,x,re='<svg width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M7 3H4a1 1 0 00-1 1v12a1 1 0 001 1h3M14 10l3-3m0 0l-3-3m3 3H7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',P,E,D,Q,oe;const W=d[4].default,p=he(W,d,d[3],null);return{c(){e=o("div"),t=o("aside"),l=o("div"),l.innerHTML=_,k=j(),a=o("nav"),v=o("a"),v.innerHTML=i,r=j(),f=o("a"),f.innerHTML=se,F=j(),M=o("a"),M.innerHTML=ae,O=j(),y=o("a"),y.innerHTML=le,R=j(),C=o("div"),L=o("div"),I=o("div"),I.textContent=ne,G=j(),w=o("div"),A=o("div"),S=ye(N),J=j(),V=o("div"),V.textContent=ie,K=j(),x=o("button"),x.innerHTML=re,P=j(),E=o("main"),p&&p.c(),this.h()},l(u){e=c(u,"DIV",{class:!0});var m=T(e);t=c(m,"ASIDE",{class:!0});var z=T(t);l=c(z,"DIV",{class:!0,"data-svelte-h":!0}),g(l)!=="svelte-1pmwpmd"&&(l.innerHTML=_),k=b(z),a=c(z,"NAV",{class:!0});var H=T(a);v=c(H,"A",{href:!0,class:!0,"data-svelte-h":!0}),g(v)!=="svelte-rcldvm"&&(v.innerHTML=i),r=b(H),f=c(H,"A",{href:!0,class:!0,"data-svelte-h":!0}),g(f)!=="svelte-6w0w2z"&&(f.innerHTML=se),F=b(H),M=c(H,"A",{href:!0,class:!0,"data-svelte-h":!0}),g(M)!=="svelte-111bd07"&&(M.innerHTML=ae),O=b(H),y=c(H,"A",{href:!0,class:!0,"data-svelte-h":!0}),g(y)!=="svelte-jlgqhh"&&(y.innerHTML=le),H.forEach(h),R=b(z),C=c(z,"DIV",{class:!0});var B=T(C);L=c(B,"DIV",{class:!0});var q=T(L);I=c(q,"DIV",{class:!0,"data-svelte-h":!0}),g(I)!=="svelte-y1ijlf"&&(I.textContent=ne),G=b(q),w=c(q,"DIV",{class:!0});var U=T(w);A=c(U,"DIV",{class:!0});var ce=T(A);S=Ce(ce,N),ce.forEach(h),J=b(U),V=c(U,"DIV",{class:!0,"data-svelte-h":!0}),g(V)!=="svelte-m6w9mv"&&(V.textContent=ie),U.forEach(h),q.forEach(h),K=b(B),x=c(B,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),g(x)!=="svelte-1v63uvy"&&(x.innerHTML=re),B.forEach(h),z.forEach(h),P=b(m),E=c(m,"MAIN",{class:!0});var ue=T(E);p&&p.l(ue),ue.forEach(h),m.forEach(h),this.h()},h(){n(l,"class","sidebar-header svelte-1jxaca9"),n(v,"href","/app"),n(v,"class","nav-item svelte-1jxaca9"),Le(v,"active",!0),n(f,"href","/app/contacts"),n(f,"class","nav-item svelte-1jxaca9"),n(M,"href","/app/files"),n(M,"class","nav-item svelte-1jxaca9"),n(y,"href","/app/settings"),n(y,"class","nav-item svelte-1jxaca9"),n(a,"class","nav-menu svelte-1jxaca9"),n(I,"class","avatar svelte-1jxaca9"),n(A,"class","user-name svelte-1jxaca9"),n(V,"class","user-status svelte-1jxaca9"),n(w,"class","user-details svelte-1jxaca9"),n(L,"class","user-info svelte-1jxaca9"),n(x,"class","icon-button svelte-1jxaca9"),n(x,"title","Logout"),n(C,"class","sidebar-footer svelte-1jxaca9"),n(t,"class","sidebar svelte-1jxaca9"),n(E,"class","main-content svelte-1jxaca9"),n(e,"class","app-layout svelte-1jxaca9")},m(u,m){te(u,e,m),s(e,t),s(t,l),s(t,k),s(t,a),s(a,v),s(a,r),s(a,f),s(a,F),s(a,M),s(a,O),s(a,y),s(t,R),s(t,C),s(C,L),s(L,I),s(L,G),s(L,w),s(w,A),s(A,S),s(w,J),s(w,V),s(C,K),s(C,x),s(e,P),s(e,E),p&&p.m(E,null),D=!0,Q||(oe=we(x,"click",d[2]),Q=!0)},p(u,m){(!D||m&2)&&N!==(N=u[1].identity?.id.slice(0,8)+"")&&He(S,N),p&&p.p&&(!D||m&8)&&me(p,W,u,u[3],D?je(W,u[3],m,null):xe(u[3]),null)},i(u){D||(ee(p,u),D=!0)},o(u){$(p,u),D=!1},d(u){u&&h(e),p&&p.d(u),Q=!1,oe()}}}function Ae(d){let e,t,l,_;const k=[De,Ve],a=[];function v(i,r){return i[0]?0:1}return e=v(d),t=a[e]=k[e](d),{c(){t.c(),l=de()},l(i){t.l(i),l=de()},m(i,r){a[e].m(i,r),te(i,l,r),_=!0},p(i,[r]){let f=e;e=v(i),e===f?a[e].p(i,r):(Me(),$(a[f],1,1,()=>{a[f]=null}),ke(),t=a[e],t?t.p(i,r):(t=a[e]=k[e](i),t.c()),ee(t,1),t.m(l.parentNode,l))},i(i){_||(ee(t),_=!0)},o(i){$(t),_=!1},d(i){i&&h(l),a[e].d(i)}}}function Ee(d,e,t){let l,_;ve(d,Z,r=>t(5,l=r)),ve(d,Y,r=>t(1,_=r));let{$$slots:k={},$$scope:a}=e,v=!1;_e(async()=>(await Y.initialize(),Te.subscribe(async f=>{f?(await Z.initialize(),l.isUnlocked&&await Ie.loadConversations(),t(0,v=!0)):fe("/auth")})));async function i(){await Z.lock(),await Y.logout(),fe("/")}return d.$$set=r=>{"$$scope"in r&&t(3,a=r.$$scope)},[v,_,i,a,k]}class Fe extends be{constructor(e){super(),ge(this,e,Ee,Ae,pe,{})}}export{Fe as component};
//# sourceMappingURL=2.08e5077c.js.map
