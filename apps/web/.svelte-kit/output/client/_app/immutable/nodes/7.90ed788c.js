import{s as yt,n as it,r as vt,e as ht}from"../chunks/scheduler.f21026e3.js";import{S as ft,i as pt,g as l,s as d,m as Te,h as a,j as m,y,c as u,f as h,n as be,k as s,C as oe,a as De,x as e,A as re,o as Re,D as _t}from"../chunks/index.887ba7b1.js";import{a as ot}from"../chunks/auth.1e7963e3.js";import{v as rt}from"../chunks/vault.4a87f3ed.js";function ct(c){let n,t;return{c(){n=l("div"),t=Te(c[3]),this.h()},l(r){n=a(r,"DIV",{class:!0});var i=m(n);t=be(i,c[3]),i.forEach(h),this.h()},h(){s(n,"class","alert error svelte-yz53yd")},m(r,i){De(r,n,i),e(n,t)},p(r,i){i&8&&Re(t,r[3])},d(r){r&&h(n)}}}function dt(c){let n,t;return{c(){n=l("div"),t=Te(c[4]),this.h()},l(r){n=a(r,"DIV",{class:!0});var i=m(n);t=be(i,c[4]),i.forEach(h),this.h()},h(){s(n,"class","alert success svelte-yz53yd")},m(r,i){De(r,n,i),e(n,t)},p(r,i){i&16&&Re(t,r[4])},d(r){r&&h(n)}}}function ut(c){let n,t,r,i,o,p,f,v="Update Passphrase",I,D,j="Cancel",x,E;return{c(){n=l("form"),t=l("input"),r=d(),i=l("input"),o=d(),p=l("div"),f=l("button"),f.textContent=v,I=d(),D=l("button"),D.textContent=j,this.h()},l(k){n=a(k,"FORM",{class:!0});var C=m(n);t=a(C,"INPUT",{type:!0,placeholder:!0,class:!0}),r=u(C),i=a(C,"INPUT",{type:!0,placeholder:!0,class:!0}),o=u(C),p=a(C,"DIV",{class:!0});var _=m(p);f=a(_,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),y(f)!=="svelte-2jngjn"&&(f.textContent=v),I=u(_),D=a(_,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),y(D)!=="svelte-3000nr"&&(D.textContent=j),_.forEach(h),C.forEach(h),this.h()},h(){s(t,"type","password"),s(t,"placeholder","New passphrase"),s(t,"class","svelte-yz53yd"),s(i,"type","password"),s(i,"placeholder","Confirm passphrase"),s(i,"class","svelte-yz53yd"),s(f,"type","submit"),s(f,"class","primary svelte-yz53yd"),s(D,"type","button"),s(D,"class","secondary svelte-yz53yd"),s(p,"class","form-actions svelte-yz53yd"),s(n,"class","passphrase-form svelte-yz53yd")},m(k,C){De(k,n,C),e(n,t),oe(t,c[1]),e(n,r),e(n,i),oe(i,c[2]),e(n,o),e(n,p),e(p,f),e(p,I),e(p,D),x||(E=[re(t,"input",c[9]),re(i,"input",c[10]),re(D,"click",c[11]),re(n,"submit",_t(c[7]))],x=!0)},p(k,C){C&2&&t.value!==k[1]&&oe(t,k[1]),C&4&&i.value!==k[2]&&oe(i,k[2])},d(k){k&&h(n),x=!1,vt(E)}}}function mt(c){let n,t,r='<h1 class="svelte-yz53yd">Settings</h1>',i,o,p,f,v,I,D="üîê Security",j,x,E,k='<h3 class="svelte-yz53yd">Change Vault Passphrase</h3> <p class="svelte-yz53yd">Update the passphrase used to encrypt your local vault</p>',C,_,ve="Change Passphrase",ce,w,G,Fe='<div class="setting-info svelte-yz53yd"><h3 class="svelte-yz53yd">Two-Factor Authentication</h3> <p class="svelte-yz53yd">Add an extra layer of security to your account</p></div> <button class="secondary svelte-yz53yd" disabled="">Coming Soon</button>',xe,O,W,qe="üìä Data Management",ke,U,X,Je='<h3 class="svelte-yz53yd">Export Your Data</h3> <p class="svelte-yz53yd">Download all your data in JSON format</p>',Ie,A,Qe="Export Data",Ee,B,Z,Ke='<h3 class="svelte-yz53yd">Clear Local Data</h3> <p class="svelte-yz53yd">Remove all data from this device (irreversible)</p>',Le,R,Ye="Clear Data",He,F,$,Ge="üé® Appearance",Ve,q,ee,We='<h3 class="svelte-yz53yd">Theme</h3> <p class="svelte-yz53yd">Choose your preferred color scheme</p>',Oe,M,P,Xe="Dark (Default)",N,Ze="Light",S,$e="Auto",Me,J,te,et="‚ÑπÔ∏è About",Pe,L,se,tt='<span class="label svelte-yz53yd">Version</span> <span class="value svelte-yz53yd">0.1.0</span>',Ne,le,st='<span class="label svelte-yz53yd">Encryption</span> <span class="value svelte-yz53yd">Post-Quantum (Kyber/Dilithium)</span>',Se,ae,lt='<span class="label svelte-yz53yd">Storage</span> <span class="value svelte-yz53yd">Local-first (SQLite)</span>',je,Q,ne,at="Identity",we,ie,ue=c[5].identity?.id.slice(0,12)+"",ye,Ue,Ae,nt,z=c[3]&&ct(c),g=c[4]&&dt(c),T=c[0]&&ut(c);return{c(){n=l("div"),t=l("div"),t.innerHTML=r,i=d(),o=l("div"),z&&z.c(),p=d(),g&&g.c(),f=d(),v=l("section"),I=l("h2"),I.textContent=D,j=d(),x=l("div"),E=l("div"),E.innerHTML=k,C=d(),_=l("button"),_.textContent=ve,ce=d(),T&&T.c(),w=d(),G=l("div"),G.innerHTML=Fe,xe=d(),O=l("section"),W=l("h2"),W.textContent=qe,ke=d(),U=l("div"),X=l("div"),X.innerHTML=Je,Ie=d(),A=l("button"),A.textContent=Qe,Ee=d(),B=l("div"),Z=l("div"),Z.innerHTML=Ke,Le=d(),R=l("button"),R.textContent=Ye,He=d(),F=l("section"),$=l("h2"),$.textContent=Ge,Ve=d(),q=l("div"),ee=l("div"),ee.innerHTML=We,Oe=d(),M=l("select"),P=l("option"),P.textContent=Xe,N=l("option"),N.textContent=Ze,S=l("option"),S.textContent=$e,Me=d(),J=l("section"),te=l("h2"),te.textContent=et,Pe=d(),L=l("div"),se=l("div"),se.innerHTML=tt,Ne=d(),le=l("div"),le.innerHTML=st,Se=d(),ae=l("div"),ae.innerHTML=lt,je=d(),Q=l("div"),ne=l("span"),ne.textContent=at,we=d(),ie=l("span"),ye=Te(ue),Ue=Te("..."),this.h()},l(b){n=a(b,"DIV",{class:!0});var V=m(n);t=a(V,"DIV",{class:!0,"data-svelte-h":!0}),y(t)!=="svelte-1jms2jn"&&(t.innerHTML=r),i=u(V),o=a(V,"DIV",{class:!0});var H=m(o);z&&z.l(H),p=u(H),g&&g.l(H),f=u(H),v=a(H,"SECTION",{class:!0});var K=m(v);I=a(K,"H2",{class:!0,"data-svelte-h":!0}),y(I)!=="svelte-5dfwml"&&(I.textContent=D),j=u(K),x=a(K,"DIV",{class:!0});var he=m(x);E=a(he,"DIV",{class:!0,"data-svelte-h":!0}),y(E)!=="svelte-8z11on"&&(E.innerHTML=k),C=u(he),_=a(he,"BUTTON",{class:!0,"data-svelte-h":!0}),y(_)!=="svelte-16046fk"&&(_.textContent=ve),he.forEach(h),ce=u(K),T&&T.l(K),w=u(K),G=a(K,"DIV",{class:!0,"data-svelte-h":!0}),y(G)!=="svelte-1au9fju"&&(G.innerHTML=Fe),K.forEach(h),xe=u(H),O=a(H,"SECTION",{class:!0});var de=m(O);W=a(de,"H2",{class:!0,"data-svelte-h":!0}),y(W)!=="svelte-k13svi"&&(W.textContent=qe),ke=u(de),U=a(de,"DIV",{class:!0});var fe=m(U);X=a(fe,"DIV",{class:!0,"data-svelte-h":!0}),y(X)!=="svelte-19mnzfj"&&(X.innerHTML=Je),Ie=u(fe),A=a(fe,"BUTTON",{class:!0,"data-svelte-h":!0}),y(A)!=="svelte-1kd8uao"&&(A.textContent=Qe),fe.forEach(h),Ee=u(de),B=a(de,"DIV",{class:!0});var pe=m(B);Z=a(pe,"DIV",{class:!0,"data-svelte-h":!0}),y(Z)!=="svelte-b83u2e"&&(Z.innerHTML=Ke),Le=u(pe),R=a(pe,"BUTTON",{class:!0,"data-svelte-h":!0}),y(R)!=="svelte-7yc1nj"&&(R.textContent=Ye),pe.forEach(h),de.forEach(h),He=u(H),F=a(H,"SECTION",{class:!0});var _e=m(F);$=a(_e,"H2",{class:!0,"data-svelte-h":!0}),y($)!=="svelte-1mkpz0k"&&($.textContent=Ge),Ve=u(_e),q=a(_e,"DIV",{class:!0});var me=m(q);ee=a(me,"DIV",{class:!0,"data-svelte-h":!0}),y(ee)!=="svelte-19mn4bq"&&(ee.innerHTML=We),Oe=u(me),M=a(me,"SELECT",{class:!0});var Ce=m(M);P=a(Ce,"OPTION",{"data-svelte-h":!0}),y(P)!=="svelte-ly9h4g"&&(P.textContent=Xe),N=a(Ce,"OPTION",{"data-svelte-h":!0}),y(N)!=="svelte-ukmraa"&&(N.textContent=Ze),S=a(Ce,"OPTION",{"data-svelte-h":!0}),y(S)!=="svelte-xs7pkn"&&(S.textContent=$e),Ce.forEach(h),me.forEach(h),_e.forEach(h),Me=u(H),J=a(H,"SECTION",{class:!0});var ze=m(J);te=a(ze,"H2",{class:!0,"data-svelte-h":!0}),y(te)!=="svelte-r7uekz"&&(te.textContent=et),Pe=u(ze),L=a(ze,"DIV",{class:!0});var Y=m(L);se=a(Y,"DIV",{class:!0,"data-svelte-h":!0}),y(se)!=="svelte-j0ut4n"&&(se.innerHTML=tt),Ne=u(Y),le=a(Y,"DIV",{class:!0,"data-svelte-h":!0}),y(le)!=="svelte-4l1atr"&&(le.innerHTML=st),Se=u(Y),ae=a(Y,"DIV",{class:!0,"data-svelte-h":!0}),y(ae)!=="svelte-1945qkg"&&(ae.innerHTML=lt),je=u(Y),Q=a(Y,"DIV",{class:!0});var ge=m(Q);ne=a(ge,"SPAN",{class:!0,"data-svelte-h":!0}),y(ne)!=="svelte-e08589"&&(ne.textContent=at),we=u(ge),ie=a(ge,"SPAN",{class:!0});var Be=m(ie);ye=be(Be,ue),Ue=be(Be,"..."),Be.forEach(h),ge.forEach(h),Y.forEach(h),ze.forEach(h),H.forEach(h),V.forEach(h),this.h()},h(){s(t,"class","settings-header svelte-yz53yd"),s(I,"class","svelte-yz53yd"),s(E,"class","setting-info svelte-yz53yd"),s(_,"class","secondary svelte-yz53yd"),s(x,"class","setting-item svelte-yz53yd"),s(G,"class","setting-item svelte-yz53yd"),s(v,"class","settings-section svelte-yz53yd"),s(W,"class","svelte-yz53yd"),s(X,"class","setting-info svelte-yz53yd"),s(A,"class","secondary svelte-yz53yd"),s(U,"class","setting-item svelte-yz53yd"),s(Z,"class","setting-info svelte-yz53yd"),s(R,"class","danger svelte-yz53yd"),s(B,"class","setting-item svelte-yz53yd"),s(O,"class","settings-section svelte-yz53yd"),s($,"class","svelte-yz53yd"),s(ee,"class","setting-info svelte-yz53yd"),P.__value="Dark (Default)",oe(P,P.__value),N.__value="Light",oe(N,N.__value),S.__value="Auto",oe(S,S.__value),M.disabled=!0,s(M,"class","svelte-yz53yd"),s(q,"class","setting-item svelte-yz53yd"),s(F,"class","settings-section svelte-yz53yd"),s(te,"class","svelte-yz53yd"),s(se,"class","info-item svelte-yz53yd"),s(le,"class","info-item svelte-yz53yd"),s(ae,"class","info-item svelte-yz53yd"),s(ne,"class","label svelte-yz53yd"),s(ie,"class","value svelte-yz53yd"),s(Q,"class","info-item svelte-yz53yd"),s(L,"class","info-grid svelte-yz53yd"),s(J,"class","settings-section svelte-yz53yd"),s(o,"class","settings-content svelte-yz53yd"),s(n,"class","settings svelte-yz53yd")},m(b,V){De(b,n,V),e(n,t),e(n,i),e(n,o),z&&z.m(o,null),e(o,p),g&&g.m(o,null),e(o,f),e(o,v),e(v,I),e(v,j),e(v,x),e(x,E),e(x,C),e(x,_),e(v,ce),T&&T.m(v,null),e(v,w),e(v,G),e(o,xe),e(o,O),e(O,W),e(O,ke),e(O,U),e(U,X),e(U,Ie),e(U,A),e(O,Ee),e(O,B),e(B,Z),e(B,Le),e(B,R),e(o,He),e(o,F),e(F,$),e(F,Ve),e(F,q),e(q,ee),e(q,Oe),e(q,M),e(M,P),e(M,N),e(M,S),e(o,Me),e(o,J),e(J,te),e(J,Pe),e(J,L),e(L,se),e(L,Ne),e(L,le),e(L,Se),e(L,ae),e(L,je),e(L,Q),e(Q,ne),e(Q,we),e(Q,ie),e(ie,ye),e(ie,Ue),Ae||(nt=[re(_,"click",c[8]),re(A,"click",c[6]),re(R,"click",c[12])],Ae=!0)},p(b,[V]){b[3]?z?z.p(b,V):(z=ct(b),z.c(),z.m(o,p)):z&&(z.d(1),z=null),b[4]?g?g.p(b,V):(g=dt(b),g.c(),g.m(o,f)):g&&(g.d(1),g=null),b[0]?T?T.p(b,V):(T=ut(b),T.c(),T.m(v,w)):T&&(T.d(1),T=null),V&32&&ue!==(ue=b[5].identity?.id.slice(0,12)+"")&&Re(ye,ue)},i:it,o:it,d(b){b&&h(n),z&&z.d(),g&&g.d(),T&&T.d(),Ae=!1,vt(nt)}}}function Ct(c,n,t){let r;ht(c,ot,_=>t(5,r=_));let i=!1,o="",p="",f="",v="";async function I(){try{const _={identity:r.identity,device:r.device,exportedAt:new Date().toISOString()},ve=new Blob([JSON.stringify(_,null,2)],{type:"application/json"}),ce=URL.createObjectURL(ve),w=document.createElement("a");w.href=ce,w.download=`volli-export-${Date.now()}.json`,w.click(),URL.revokeObjectURL(ce),t(4,v="Data exported successfully"),setTimeout(()=>t(4,v=""),3e3)}catch{t(3,f="Failed to export data")}}async function D(){if(t(3,f=""),!o||!p){t(3,f="Please fill in all fields");return}if(o!==p){t(3,f="Passphrases do not match");return}if(o.length<8){t(3,f="Passphrase must be at least 8 characters");return}try{await rt.lock(),await rt.unlock(o),t(4,v="Passphrase changed successfully"),t(0,i=!1),t(1,o=""),t(2,p=""),setTimeout(()=>t(4,v=""),3e3)}catch{t(3,f="Failed to change passphrase")}}const j=()=>t(0,i=!i);function x(){o=this.value,t(1,o)}function E(){p=this.value,t(2,p)}return[i,o,p,f,v,r,I,D,j,x,E,()=>t(0,i=!1),()=>confirm("Are you sure?")&&ot.logout()]}class Dt extends ft{constructor(n){super(),pt(this,n,Ct,mt,yt,{})}}export{Dt as component};
//# sourceMappingURL=7.90ed788c.js.map
